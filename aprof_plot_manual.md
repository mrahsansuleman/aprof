# `aprof-plot`: a Java tool for visualizing `aprof`'s reports #

<a href='Hidden comment: 
An Input-Sensitive profiler produces large amounts of information. As increasingly more detailed profiles are collected by aprof, the information conveyed to a user is quickly become overwhelming.
'></a>
`aprof-plot` is an interactive graphical viewer written in Java for visualizing performance profiles generated by `aprof`. It can support programmers in the task of finding hidden asymptotic bottlenecks in their code, characterizing the workload and behavior of individual routines in the context of real applications.

|![http://aprof.googlecode.com/svn/trunk/aprofplot/graphs/aprof-plot-0.1a.png](http://aprof.googlecode.com/svn/trunk/aprofplot/graphs/aprof-plot-0.1a.png) | ![http://aprof.googlecode.com/svn/trunk/aprofplot/graphs/aprof-plot-0.1b.png](http://aprof.googlecode.com/svn/trunk/aprofplot/graphs/aprof-plot-0.1b.png) | ![http://aprof.googlecode.com/svn/trunk/aprofplot/graphs/aprof-plot-0.1c.png](http://aprof.googlecode.com/svn/trunk/aprofplot/graphs/aprof-plot-0.1c.png) |
|:---------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------|


## Run aprof-plot ##

See the [basic usage page](BasicUsage#Visualize_profile_reports.md).

## User interface overview ##

After starting `aprof-plot` and loading a report generated by `aprof` we should see something like this:

![http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-0.png](http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-0.png)

We can identify four main core graphical components:

![http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-1.png](http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-1.png)

We have:

  * component 1: the [menubar and toolbar](aprof_plot_manual#Main_menu_&_toolbar.md)
  * component 2: the [charts's area](aprof_plot_manual#Charts.md), several charts are shown based on the selected routine
  * component 3: the [routine table](aprof_plot_manual#Routine_table.md), a list of all profiled routines of our program
  * component 4: the [routine profile](aprof_plot_manual#Routine_profile.md), a list of all collected performance tuples for the selected routine

Let's discuss in details all aspects and features of `aprof-plot`.

## Main menu & toolbar ##

| **Menu item** | **Submenu item** | **Toolbar  image** | **Description** |
|:--------------|:-----------------|:-------------------|:----------------|
| `File` | `New window` | ![http://aprof.googlecode.com/svn/trunk/wiki_images/NewWindow-icon.png](http://aprof.googlecode.com/svn/trunk/wiki_images/NewWindow-icon.png) | Open a new window instance of `aprof-plot` |
| " | `Open a file...` | ![http://aprof.googlecode.com/svn/trunk/wiki_images/Open-icon.png](http://aprof.googlecode.com/svn/trunk/wiki_images/Open-icon.png) | Open a report |
| " | `Set source directory` | ![http://aprof.googlecode.com/svn/trunk/wiki_images/fs-directory.png](http://aprof.googlecode.com/svn/trunk/wiki_images/fs-directory.png) | Set a source code directory  |
| " | `Open recent file` | ![http://aprof.googlecode.com/svn/trunk/wiki_images/refresh.png](http://aprof.googlecode.com/svn/trunk/wiki_images/refresh.png) | Open a recent opened report. The toolbar button load the last opened report. The menu item shows a list with the last five opened reports. |
| " | `Save` | ![http://aprof.googlecode.com/svn/trunk/wiki_images/Save-icon.png](http://aprof.googlecode.com/svn/trunk/wiki_images/Save-icon.png) | Save the report. This is enabled only if you have set/unset some routines as favorites. |
| " | `Export` | - | From this submenu, you can export: <br> - routine profile: all the performance tuples (a routine must be selected in the routine table) <br> - program profile: info about profiled routines <br> - program statistics: several statistics about your application run<br>
<tr><td> " </td><td> <code>Merge...</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/Merge-icon.png' /> </td><td> Disabled. </td></tr>
<tr><td> " </td><td> <code>Exit</code> </td><td> - </td><td> Close the current window. </td></tr></tbody></table>

<table><thead><th> <b>Menu item</b> </th><th> <b>Submenu item</b> </th><th> <b>Toolbar  image</b> </th><th> <b>Description</b> </th></thead><tbody>
<tr><td> <code>Edit</code> </td><td> <code>Settings...</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/Settings-icon.png' /> </td><td> Open the <a href='aprof_plot_manual#Settings.md'>settings</a> dialog. </td></tr></tbody></table>

<table><thead><th> <b>Menu item</b> </th><th> <b>Submenu item</b> </th><th> <b>Toolbar  image</b> </th><th> <b>Description</b> </th></thead><tbody>
<tr><td> <code>View</code> </td><td> <code>Cost plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Cost_plot.md'>cost plot</a> </td></tr>
<tr><td> " </td><td> <code>Min/Avg/Max cost plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Min/Avg/Max_cost_plot.md'>Min/Avg/Max cost plot</a> </td></tr>
<tr><td> " </td><td> <code>Total cost plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Total_cost_plot.md'>Total cost plot</a> </td></tr>
<tr><td> " </td><td> <code>Mean cumulative cost plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Mean_cumulative_cost_plot.md'>Mean cumulative cost plot</a> </td></tr>
<tr><td> " </td><td> <code>Curve bounding cost plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Curve_bounding_plot.md'>Curve bounding cost plot</a> </td></tr>
<tr><td> " </td><td> <code>Cost variance plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Cost_variance_plot.md'>Cost variance plot</a> </td></tr>
<tr><td> " </td><td> <code>RMS frequency plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#RMS_frequency_plot.md'>RMS frequency plot</a> </td></tr>
<tr><td> " </td><td> <code>Program statistics plot</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/statistics.png' /> </td><td> Enable/disable <a href='aprof_plot_manual#Program_statistics_plot.md'>Program statistics plot</a> </td></tr>
<tr><td> " </td><td> <code>Source code editor</code> </td><td> <img src='http://aprof.googlecode.com/svn/trunk/wiki_images/fs-directory.png' /> </td><td> Enable/disable source code editor </td></tr></tbody></table>

<table><thead><th> <b>Menu item</b> </th><th> <b>Submenu item</b> </th><th> <b>Toolbar  image</b> </th><th> <b>Description</b> </th></thead><tbody>
<tr><td> <code>Help</code> </td><td> <code>About</code> </td><td> - </td><td> Open a dialog with info about <code>aprof-plot</code>. </td></tr></tbody></table>

<h2>Routine table</h2>

The routine table gives you different information about all the profiled routines of your application:<br>
<br>
<img src='http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-2.png' />

We can see:<br>
<ul><li><code>Routine</code>: name of the routine.<br>
</li><li><code>Lib</code>: name of the ELF object in which the routine is contained.<br>
</li><li><code>Cost (cumul)</code> or <code>Cost (self)</code>: the number of <a href='aprof_manual#Performance_Metric.md'>basic blocks</a> executed by all the executions of this routine. It can be a cumulative cost or a self cost, see <i><a href='aprof_plot_manual#Displayed_cost_in_routine_table.md'>Displayed cost in routine table</a></i>.<br>
</li><li><code>#RMS</code>: number of collected performance tuples for this routine.<br>
</li><li><code>Cost % (cumul)</code> or <code>Cost % (self)</code>: percentage of total cost (self or cumulative, see <i><a href='aprof_plot_manual#Displayed_cost_in_routine_table.md'>Displayed cost in routine table</a></i>) needed by all executions of this routine.<br>
</li><li><code>Cost plot (cumul)</code> or <code>Cost plot (self)</code>: a preview of the <a href='aprof_plot_manual#Cost_plot.md'>cost plot</a> for this routine (showing maximal self or cumulative costs, see <i><a href='aprof_plot_manual#Displayed_cost_in_charts.md'>Displayed cost in charts</a></i>).<br>
</li><li><code>Calls</code>: number of calls (executions) of this routine.<br>
</li><li><code>Calls %</code>: percentage of calls for this routine with respect to the sum of calls of all routines.<br>
</li><li><code>Favorite</code>: check/uncheck this routine as favorite.</li></ul>

This list of routines can be filtered based on different criterias. You can choose these criterias from the filter routines dialog. Open it by clicking on the button (<img src='http://aprof.googlecode.com/svn/trunk/wiki_images/Filter-icon.png' />) on the right corner of the routine table:<br>
<br>
<img src='http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-3.png' />

The filter routines dialog:<br>
<br>
<img src='http://aprof.googlecode.com/svn/trunk/wiki_images/aprof-plot-4.png' />

You can filter routines based on:<br>
<ul><li><code>Library</code>: show routines contained in a specific ELF object.<br>
</li><li><code>Cost %</code>: show routines with at least a specific percentage of total cost.<br>
</li><li><code>Calls %</code>: show routines with at least a specific percentage of total calls.<br>
</li><li><code>#RMS</code>: show routines with at least a certain number of performance tuples.<br>
By default we show routines with at least five performance tuples.</li></ul>

<h2>Routine profile</h2>

<h2>Charts</h2>

<h3>Cost plot</h3>
<h3>Min/Avg/Max cost plot</h3>
<h3>Total cost plot</h3>
<h3>Mean cumulative cost plot</h3>
<h3>Curve bounding plot</h3>
<h3>Cost variance plot</h3>
<h3>RMS frequency plot</h3>
<h3>Program statistics plot</h3>

<h2>Customizing charts</h2>

<h2>Source code viewer</h2>

<h2>Settings</h2>

<h3>Display</h3>
<h4>Displayed cost in routine table</h4>
<h4>Displayed cost in charts</h4>

<h3>Routine Blacklist</h3>
<h3>Tools</h3>

<h2>Appendix</h2>

<h3>Cost: cumulative vs self</h3>